#spring:
#  application:
#    name: tsg-9.27-TheAvengers-feedback-analytics-consumer
#
#  kafka:
#    bootstrap-servers: localhost:9092
#
#    consumer:
#      group-id: feedback-analytics-consumer
#      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer
#      auto-offset-reset: latest
#
#    listener:
#      missing-topics-fatal: false
#
#server:
#  port: 8080
#
#logging:
#  level:
#    org:
#      springframework:
#        kafka: INFO
#    com:
#      tsg:
#        feedbackconsumer: DEBUG
spring:
  application:
    name: tsg-9.27-TheAvengers-feedback-analytics-consumer

  kafka:
    # Use Docker internal host, not localhost
    bootstrap-servers: ${SPRING_KAFKA_BOOTSTRAP_SERVERS:kafka:29092}

    consumer:
      group-id: feedback-analytics-consumer
      auto-offset-reset: earliest

      # This was originally only the key-deserializer â€” now complete
      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer
      value-deserializer: io.confluent.kafka.serializers.KafkaAvroDeserializer

    # Properties passed directly to the Avro Deserializer
    properties:
      schema.registry.url: ${SPRING_KAFKA_PROPERTIES_SCHEMA_REGISTRY_URL:http://schema-registry:8081}
      specific.avro.reader: false   # We are using GenericRecord

    listener:
      missing-topics-fatal: false

server:
  port: 8080

logging:
  level:
    org:
      springframework:
        kafka: INFO
    com:
      tsg:
        feedbackconsumer: DEBUG
